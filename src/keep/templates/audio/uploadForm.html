{% extends "site_base.html" %}

{% block page-subtitle %}: Audio : Upload{% endblock %}
{% block content-title %}Upload audio files.{% endblock %}

{% block content-body %}
  {{ block.super }}
  
<link rel="stylesheet" type="text/css" href="{{MEDIA_URL}}/HTML5/_styles.css" media="screen" />
<script type="text/javascript" src="{{MEDIA_URL}}/HTML5/prototype.js"></script>
<script type="text/javascript" src="{{MEDIA_URL}}/HTML5/md5.js"></script>
<script type="text/javascript" src="{{MEDIA_URL}}/HTML5/HTML5Upload.js"></script>   

<form enctype="multipart/form-data" method="post" name="uploadForm" action="{% url audio:upload %}">{% csrf_token %}
    <div id="output" class="clearfix">
      <ul id="output-listing01"></ul>
    </div>
    <br />
    <br />
    <div style="margin-left:160px; float:left;">
	<input type="button" value="Ingest the above file(s)" id="btn_ingest" name="btn_ingest" onClick="html5dropbox.ingestWhenReady();" style="width:200px;"/> 
    </div>
    <div style="margin-left:50px; float:left;">
	<input type="button" value="Clear the above files" id="btn_clear" name="btn_clear" onClick="html5dropbox.clearAllDisplayed(); return false;" />
    </div>
</form>

<script>var html5dropbox = new HTML5DropBox('uploadForm','{{ action_page }}','output');</script>
<script>html5dropbox.setActionPage('{{ action_page }}');</script>

{% for audio in allowed_audio_types %}
  <script>html5dropbox.setAcceptedFileType("{{ audio }}");</script>
{% endfor %}

{% endblock %}
